			<section class="our-team" id="restaurantmap">				<div class="container" id="team-container">										<div class="map-section" id="map_section">						<div class="map-input" id="loc_input">															<h6 class="map-header">Restaurant Distribution</h6>								<p class="warning" id="warning"></p>								<p class="map-input-text1">City:</p>								<select class="map-option-select" id="city">								</select>								<p class="map-input-text2">Zip Code:</p>								<p class="zipcode-reminder" id="zipcode_reminder"></p>								<input type="text" id="zip_code"/><br>								<p class="map-input-text3">Category:</p>								<select class="map-option-select"  id="category">								</select><br>								<button class="button-map" id = "submitBtn" >submit</button>													</div>						<div class="map-div" id ="map_div">						</div>					</div>									 </div>			 </section>			<?php	global $wpdb;	$cities = array();	//get the names of all cities for input	$sql = 'SELECT city FROM city';	$results = $wpdb->get_results($sql);	foreach($results as $result){		array_push($cities,$result->city);	}	//create a js variable of city 	echo '<script> var cities='.json_encode($cities).'</script>';?><script type="text/javascript">	//list of cities	var list = "";		for(var i =0;i < cities.length; i++){		list+='<option>'+cities[i]+'</option>';	}	//set the selection options of 'city' to the list	document.getElementById('city').innerHTML=list;	var categories = ["Chinese","Korean","Japanese","American","Mexican","Brazilian","Italian","Indian","French","Vietnamese","Turkish","Greek","Spanish","Irish","Canadian","Thai","Persian","Argentine","Cambodian","Cuban","Australian"];	//list of restaurant categories	var list2 = "";	list2+='<option>All</option>';	for(i=0;i<categories.length;i++){		list2+='<option>'+categories[i]+'</option>';	}	//set the selection options of 'category' to list2	document.getElementById('category').innerHTML=list2;	$(document).ready(function() {		$('#submitBtn').click(function() {			var str=[];			//push the city, zip code, and category to a string and then send this string to the server			str.push($('#city').val());			str.push($('#zip_code').val());			str.push($('#category').val());			//call the ajax function to send the data to the server and get the returned data from the server			getLocations(str);			//when the button is clicked, set the reminder to enter the zip code and warning to null			document.getElementById('zipcode_reminder').innerHTML="";			document.getElementById("warning").innerHTML = "";		});	});	$(document).ready(function() {		$('#zip_code').click(function() {			//when the user is about to enter the zip code, show the reminder as below			document.getElementById('zipcode_reminder').innerHTML="*Specify one or left blank.";		});	});	$(document).ready(function() {		$('#category').click(function() {			//when the user is about to enter the category, set the reminder to enter the zip code to null			document.getElementById('zipcode_reminder').innerHTML="";		});	});	$(document).ready(function() {		$('#city').click(function() {			//when the user is about to enter the city, set the reminder to enter the zip code to null			document.getElementById('zipcode_reminder').innerHTML="";		});	});	//initialize the map, the center is Chicago	var map = new google.maps.Map(document.getElementById('map_div'), {      zoom: 4,      center: new google.maps.LatLng(41.8369, -87.6847),      mapTypeId: google.maps.MapTypeId.ROADMAP,	  scrollwheel:false    });		function getLocations(strArr){		map = new google.maps.Map(document.getElementById('map_div'), {			zoom: 4,			center: new google.maps.LatLng(41.8369, -87.6847),			mapTypeId: google.maps.MapTypeId.ROADMAP		});			//the xmlhttprequest object allows data exchange behind scenes, no need to refresh the page to update the page			var xmlhttp = new XMLHttpRequest();			xmlhttp.onreadystatechange = function() {				if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {										//parse the returned text to json					var locations = JSON.parse(xmlhttp.responseText);					//locations['0'] = latitude, locations['1'] = longitude, locations['2'] = name, locations['3'] = category					if(locations['0'].length > 0){										if(locations.length > 0){						for (i = 0; i < locations['0'].length; i++) {							//set the content of infowindow to the name and category of this restaurant							var infowindow = new google.maps.InfoWindow();							var content = locations['2'][i]+' '+locations['3'][i];							marker=new google.maps.Marker({							position: new google.maps.LatLng(locations['0'][i], locations['1'][i]),							map: map							});							//set the click listener of marker							google.maps.event.addListener(marker,'click', (function(marker,content,infowindow){ 								return function() {									infowindow.setContent(content);									infowindow.open(map,marker);								};								})(marker,content,infowindow)); 										}					// if the zip code is not specified, set zoom to a larger value					if(strArr[1].length==0){						map.setZoom(10);					}else{						map.setZoom(14);					}					map.setCenter(new google.maps.LatLng(locations['0'][0], locations['1'][0]));					}					}else{						// if no result is returned from the server, give the user a warning message						document.getElementById("warning").innerHTML = "No records found, please enter again.";					}				}			};			//send the request to the server        xmlhttp.open("GET", "<?php echo esc_url( get_template_directory_uri() ); ?>/sections/getLocations.php?q=" + strArr, true);        xmlhttp.send();    	}</script> 